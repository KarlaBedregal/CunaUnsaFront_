"use strict";(self["webpackChunkcuna_frontend"]=self["webpackChunkcuna_frontend"]||[]).push([[127],{3127:function(e,t,o){o.r(t),o.d(t,{default:function(){return J}});var r=o(641),a=o(33),s=o(3751);const l={class:"container mt-4"},n={class:"card shadow"},c={class:"card-header bg-success text-white d-flex justify-content-between align-items-center"},m={key:0,class:"card-body border border-success p-3 mb-3"},i={class:"row"},d={class:"col-md-4 mb-2"},h={class:"col-md-4 mb-2"},u={class:"col-md-4 mb-2"},k={class:"col-md-6 mb-2"},b={class:"col-md-6 mb-2"},f={class:"col-md-6 mb-2"},p={class:"form-check"},L={class:"col-md-6 mb-2"},v={class:"form-check"},_={type:"submit",class:"btn btn-success"},g={class:"card-body"},w={key:0},y={key:1,class:"alert alert-danger"},T={key:2,class:"table table-hover table-bordered"},C=["onClick"],F=["onClick"],E={key:3,class:"text-muted"};function x(e,t,o,x,A,V){return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",n,[(0,r.Lk)("div",c,[t[9]||(t[9]=(0,r.Lk)("h4",null,"üë®‚Äçüè´ Lista de Docentes",-1)),(0,r.Lk)("button",{class:"btn btn-light btn-sm",onClick:t[0]||(t[0]=(...e)=>V.toggleForm&&V.toggleForm(...e))},(0,a.v_)(A.showForm?"Cancelar":"‚ûï Agregar Docente"),1)]),A.showForm?((0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("h5",null,(0,a.v_)(A.editingTeacher?"Editar Docente":"Nuevo Docente"),1),(0,r.Lk)("form",{onSubmit:t[8]||(t[8]=(0,s.D$)((...e)=>V.submitForm&&V.submitForm(...e),["prevent"]))},[(0,r.Lk)("div",i,[(0,r.Lk)("div",d,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>A.form.names=e),type:"text",class:"form-control",placeholder:"Nombres",required:""},null,512),[[s.Jo,A.form.names]])]),(0,r.Lk)("div",h,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>A.form.father_surname=e),type:"text",class:"form-control",placeholder:"Apellido Paterno",required:""},null,512),[[s.Jo,A.form.father_surname]])]),(0,r.Lk)("div",u,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>A.form.mother_surname=e),type:"text",class:"form-control",placeholder:"Apellido Materno",required:""},null,512),[[s.Jo,A.form.mother_surname]])]),(0,r.Lk)("div",k,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>A.form.email=e),type:"email",class:"form-control",placeholder:"Correo electr√≥nico",required:""},null,512),[[s.Jo,A.form.email]])]),(0,r.Lk)("div",b,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>A.form.phone=e),type:"text",class:"form-control",placeholder:"Tel√©fono"},null,512),[[s.Jo,A.form.phone]])]),(0,r.Lk)("div",f,[(0,r.Lk)("div",p,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>A.form.show_phone=e),class:"form-check-input",type:"checkbox",id:"showPhone"},null,512),[[s.lH,A.form.show_phone]]),t[10]||(t[10]=(0,r.Lk)("label",{class:"form-check-label",for:"showPhone"},"Mostrar Tel√©fono",-1))])]),(0,r.Lk)("div",L,[(0,r.Lk)("div",v,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>A.form.status=e),class:"form-check-input",type:"checkbox",id:"status"},null,512),[[s.lH,A.form.status]]),t[11]||(t[11]=(0,r.Lk)("label",{class:"form-check-label",for:"status"},"Activo",-1))])])]),(0,r.Lk)("button",_,(0,a.v_)(A.editingTeacher?"Actualizar":"Guardar"),1)],32)])):(0,r.Q3)("",!0),(0,r.Lk)("div",g,[e.loading?((0,r.uX)(),(0,r.CE)("div",w,"Cargando docentes...")):(0,r.Q3)("",!0),e.error?((0,r.uX)(),(0,r.CE)("div",y,(0,a.v_)(e.error),1)):(0,r.Q3)("",!0),e.teachers.length?((0,r.uX)(),(0,r.CE)("table",T,[t[12]||(t[12]=(0,r.Lk)("thead",{class:"table-success"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"#"),(0,r.Lk)("th",null,"Nombre"),(0,r.Lk)("th",null,"Email"),(0,r.Lk)("th",null,"Estado"),(0,r.Lk)("th",null,"Acciones")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.teachers,(e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,a.v_)(t+1),1),(0,r.Lk)("td",null,(0,a.v_)(e.names)+" "+(0,a.v_)(e.father_surname)+" "+(0,a.v_)(e.mother_surname),1),(0,r.Lk)("td",null,(0,a.v_)(e.email),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,a.C4)(e.status?"text-success":"text-danger")},(0,a.v_)(e.status?"Activo":"Inactivo"),3)]),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn btn-sm btn-warning me-2",onClick:t=>V.editTeacher(e)},"‚úèÔ∏è",8,C),(0,r.Lk)("button",{class:"btn btn-sm btn-danger",onClick:t=>V.deleteTeacher(e.id)},"üóëÔ∏è",8,F)])]))),128))])])):((0,r.uX)(),(0,r.CE)("div",E,"No hay docentes disponibles."))])])])}var A=o(6278),V=o(4300),X={name:"TeachersView",data(){return{showForm:!1,editingTeacher:null,form:{names:"",father_surname:"",mother_surname:"",email:"",phone:"",show_phone:!1,status:!0}}},computed:{...(0,A.L8)(["teachers","loading","error"])},created(){this.fetchTeachers()},methods:{...(0,A.i0)(["fetchTeachers"]),toggleForm(){this.resetForm(),this.showForm=!this.showForm},resetForm(){this.editingTeacher=null,this.form={names:"",father_surname:"",mother_surname:"",email:"",phone:""}},async submitForm(){try{this.editingTeacher?(await V.A.updateTeacher(this.editingTeacher.id,this.form),console.log("‚úèÔ∏è Docente actualizado")):(await V.A.createTeacher(this.form),console.log("‚úÖ Docente creado")),this.fetchTeachers(),this.showForm=!1,this.resetForm()}catch(e){console.error("‚ùå Error al guardar docente:",e),alert("No se pudo guardar el docente")}},async deleteTeacher(e){if(confirm("¬øEst√°s seguro de eliminar este docente?"))try{await V.A.deleteTeacher(e),this.fetchTeachers()}catch(t){console.error("‚ùå Error al eliminar docente:",t)}},editTeacher(e){this.showForm=!0,this.editingTeacher=e,this.form={names:e.names,father_surname:e.father_surname,mother_surname:e.mother_surname,email:e.email,phone:e.phone,show_phone:e.show_phone,status:e.status}}}},D=o(6262);const U=(0,D.A)(X,[["render",x],["__scopeId","data-v-55c69da6"]]);var J=U}}]);
//# sourceMappingURL=127.9721461e.js.map
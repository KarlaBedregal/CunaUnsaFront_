{"ast":null,"code":"import { mapGetters, mapActions } from 'vuex';\nimport api from '@/services/api';\nexport default {\n  name: 'CoursesView',\n  data() {\n    return {\n      showForm: false,\n      editingCourse: null,\n      form: {\n        name: '',\n        code: '',\n        credits: null,\n        year: null,\n        bimester: '',\n        status: true\n      }\n    };\n  },\n  computed: {\n    ...mapGetters(['courses', 'loading', 'error'])\n  },\n  created() {\n    this.fetchCourses();\n  },\n  methods: {\n    ...mapActions(['fetchCourses']),\n    toggleForm() {\n      this.resetForm();\n      this.showForm = !this.showForm;\n    },\n    resetForm() {\n      this.editingCourse = null;\n      this.form = {\n        name: '',\n        code: '',\n        credits: null,\n        year: null,\n        bimester: '',\n        status: true\n      };\n    },\n    async submitForm() {\n      try {\n        if (this.editingCourse) {\n          await api.updateCourse(this.editingCourse.id, this.form);\n        } else {\n          await api.createCourse(this.form);\n        }\n        this.fetchCourses();\n        this.showForm = false;\n        this.resetForm();\n      } catch (err) {\n        console.error('‚ùå Error al guardar curso:', err);\n        alert('No se pudo guardar el curso');\n      }\n    },\n    async deleteCourse(id) {\n      if (!confirm('¬øEst√°s seguro de eliminar este curso?')) return;\n      try {\n        await api.deleteCourse(id);\n        this.fetchCourses();\n      } catch (err) {\n        console.error('‚ùå Error al eliminar curso:', err);\n      }\n    },\n    editCourse(course) {\n      this.showForm = true;\n      this.editingCourse = course;\n      this.form = {\n        name: course.name,\n        code: course.code,\n        credits: course.credits,\n        year: course.year,\n        bimester: course.bimester,\n        status: course.status\n      };\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","api","name","data","showForm","editingCourse","form","code","credits","year","bimester","status","computed","created","fetchCourses","methods","toggleForm","resetForm","submitForm","updateCourse","id","createCourse","err","console","error","alert","deleteCourse","confirm","editCourse","course"],"sources":["/Users/lvilcah/Downloads/CunaFrontend-main/src/views/Courses.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <div class=\"card shadow\">\n      <div class=\"card-header bg-info text-white d-flex justify-content-between align-items-center\">\n        <h4 class=\"mb-0\">üìö Lista de Cursos</h4>\n        <button class=\"btn btn-light btn-sm\" @click=\"toggleForm\">\n          {{ showForm ? 'Cancelar' : '‚ûï Agregar Curso' }}\n        </button>\n      </div>\n\n      <!-- FORMULARIO -->\n      <div v-if=\"showForm\" class=\"card-body border border-info p-3 mb-3\">\n        <h5>{{ editingCourse ? 'Editar Curso' : 'Nuevo Curso' }}</h5>\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"row\">\n            <div class=\"col-md-6 mb-2\">\n              <input v-model=\"form.name\" type=\"text\" class=\"form-control\" placeholder=\"Nombre del curso\" required>\n            </div>\n            <div class=\"col-md-6 mb-2\">\n              <input v-model=\"form.code\" type=\"text\" class=\"form-control\" placeholder=\"C√≥digo\" required>\n            </div>\n            <div class=\"col-md-4 mb-2\">\n              <input v-model.number=\"form.credits\" type=\"number\" class=\"form-control\" placeholder=\"Cr√©ditos\" required>\n            </div>\n            <div class=\"col-md-4 mb-2\">\n              <input v-model.number=\"form.year\" type=\"number\" class=\"form-control\" placeholder=\"A√±o\" required>\n            </div>\n            <div class=\"col-md-4 mb-2\">\n              <select v-model=\"form.bimester\" class=\"form-select\" required>\n                <option disabled value=\"\">Selecciona Bimestre</option>\n                <option value=\"1\">Primer Bimestre</option>\n                <option value=\"2\">Segundo Bimestre</option>\n                <option value=\"3\">Tercer Bimestre</option>\n                <option value=\"4\">Cuarto Bimestre</option>\n              </select>\n            </div>\n            <div class=\"col-md-12 mb-2\">\n              <div class=\"form-check\">\n                <input v-model=\"form.status\" class=\"form-check-input\" type=\"checkbox\" id=\"status\">\n                <label class=\"form-check-label\" for=\"status\">Activo</label>\n              </div>\n            </div>\n          </div>\n          <button type=\"submit\" class=\"btn btn-info text-white\">\n            {{ editingCourse ? 'Actualizar' : 'Guardar' }}\n          </button>\n        </form>\n      </div>\n\n      <!-- TABLA -->\n      <div class=\"card-body\">\n        <div v-if=\"loading\" class=\"alert alert-info\">Cargando cursos...</div>\n        <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n        <table class=\"table table-bordered table-hover table-striped text-center align-middle\" v-if=\"courses.length\">\n          <thead class=\"table-dark\">\n            <tr>\n              <th>#</th>\n              <th>Nombre</th>\n              <th>C√≥digo</th>\n              <th>Cr√©ditos</th>\n              <th>A√±o</th>\n              <th>Bimestre</th>\n              <th>Estado</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(course, index) in courses\" :key=\"course.id\">\n              <td>{{ index + 1 }}</td>\n              <td>{{ course.name }}</td>\n              <td>{{ course.code }}</td>\n              <td>{{ course.credits }}</td>\n              <td>{{ course.year }}</td>\n              <td>{{ course.bimester }}</td>\n              <td>\n                <span :class=\"course.status ? 'text-success fw-bold' : 'text-danger fw-bold'\">\n                  {{ course.status ? 'Activo' : 'Inactivo' }}\n                </span>\n              </td>\n              <td>\n                <button class=\"btn btn-sm btn-warning me-2\" @click=\"editCourse(course)\">‚úèÔ∏è</button>\n                <button class=\"btn btn-sm btn-danger\" @click=\"deleteCourse(course.id)\">üóëÔ∏è</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        <div v-if=\"!courses.length && !loading && !error\" class=\"text-center text-muted\">\n          No hay cursos registrados.\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport api from '@/services/api'\n\nexport default {\n  name: 'CoursesView',\n  data() {\n    return {\n      showForm: false,\n      editingCourse: null,\n      form: {\n        name: '',\n        code: '',\n        credits: null,\n        year: null,\n        bimester: '',\n        status: true\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['courses', 'loading', 'error'])\n  },\n  created() {\n    this.fetchCourses()\n  },\n  methods: {\n    ...mapActions(['fetchCourses']),\n\n    toggleForm() {\n      this.resetForm()\n      this.showForm = !this.showForm\n    },\n\n    resetForm() {\n      this.editingCourse = null\n      this.form = {\n        name: '',\n        code: '',\n        credits: null,\n        year: null,\n        bimester: '',\n        status: true\n      }\n    },\n\n    async submitForm() {\n      try {\n        if (this.editingCourse) {\n          await api.updateCourse(this.editingCourse.id, this.form)\n        } else {\n          await api.createCourse(this.form)\n        }\n        this.fetchCourses()\n        this.showForm = false\n        this.resetForm()\n      } catch (err) {\n        console.error('‚ùå Error al guardar curso:', err)\n        alert('No se pudo guardar el curso')\n      }\n    },\n\n    async deleteCourse(id) {\n      if (!confirm('¬øEst√°s seguro de eliminar este curso?')) return\n      try {\n        await api.deleteCourse(id)\n        this.fetchCourses()\n      } catch (err) {\n        console.error('‚ùå Error al eliminar curso:', err)\n      }\n    },\n\n    editCourse(course) {\n      this.showForm = true\n      this.editingCourse = course\n      this.form = {\n        name: course.name,\n        code: course.code,\n        credits: course.credits,\n        year: course.year,\n        bimester: course.bimester,\n        status: course.status\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.table th,\n.table td {\n  vertical-align: middle;\n}\n</style>"],"mappings":"AAiGA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAK;AAC5C,OAAOC,GAAE,MAAO,gBAAe;AAE/B,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,KAAK;MACfC,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAE;QACJJ,IAAI,EAAE,EAAE;QACRK,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE,IAAI;QACbC,IAAI,EAAE,IAAI;QACVC,QAAQ,EAAE,EAAE;QACZC,MAAM,EAAE;MACV;IACF;EACF,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGb,UAAU,CAAC,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,CAAC;EAC/C,CAAC;EACDc,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACP,GAAGf,UAAU,CAAC,CAAC,cAAc,CAAC,CAAC;IAE/BgB,UAAUA,CAAA,EAAG;MACX,IAAI,CAACC,SAAS,CAAC;MACf,IAAI,CAACb,QAAO,GAAI,CAAC,IAAI,CAACA,QAAO;IAC/B,CAAC;IAEDa,SAASA,CAAA,EAAG;MACV,IAAI,CAACZ,aAAY,GAAI,IAAG;MACxB,IAAI,CAACC,IAAG,GAAI;QACVJ,IAAI,EAAE,EAAE;QACRK,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE,IAAI;QACbC,IAAI,EAAE,IAAI;QACVC,QAAQ,EAAE,EAAE;QACZC,MAAM,EAAE;MACV;IACF,CAAC;IAED,MAAMO,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,IAAI,IAAI,CAACb,aAAa,EAAE;UACtB,MAAMJ,GAAG,CAACkB,YAAY,CAAC,IAAI,CAACd,aAAa,CAACe,EAAE,EAAE,IAAI,CAACd,IAAI;QACzD,OAAO;UACL,MAAML,GAAG,CAACoB,YAAY,CAAC,IAAI,CAACf,IAAI;QAClC;QACA,IAAI,CAACQ,YAAY,CAAC;QAClB,IAAI,CAACV,QAAO,GAAI,KAAI;QACpB,IAAI,CAACa,SAAS,CAAC;MACjB,EAAE,OAAOK,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG;QAC9CG,KAAK,CAAC,6BAA6B;MACrC;IACF,CAAC;IAED,MAAMC,YAAYA,CAACN,EAAE,EAAE;MACrB,IAAI,CAACO,OAAO,CAAC,uCAAuC,CAAC,EAAE;MACvD,IAAI;QACF,MAAM1B,GAAG,CAACyB,YAAY,CAACN,EAAE;QACzB,IAAI,CAACN,YAAY,CAAC;MACpB,EAAE,OAAOQ,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG;MACjD;IACF,CAAC;IAEDM,UAAUA,CAACC,MAAM,EAAE;MACjB,IAAI,CAACzB,QAAO,GAAI,IAAG;MACnB,IAAI,CAACC,aAAY,GAAIwB,MAAK;MAC1B,IAAI,CAACvB,IAAG,GAAI;QACVJ,IAAI,EAAE2B,MAAM,CAAC3B,IAAI;QACjBK,IAAI,EAAEsB,MAAM,CAACtB,IAAI;QACjBC,OAAO,EAAEqB,MAAM,CAACrB,OAAO;QACvBC,IAAI,EAAEoB,MAAM,CAACpB,IAAI;QACjBC,QAAQ,EAAEmB,MAAM,CAACnB,QAAQ;QACzBC,MAAM,EAAEkB,MAAM,CAAClB;MACjB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
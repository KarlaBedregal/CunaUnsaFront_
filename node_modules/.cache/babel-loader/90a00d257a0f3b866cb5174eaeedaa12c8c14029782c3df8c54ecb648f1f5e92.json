{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'https://cuna-api-unsa-nine.vercel.app';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 10000\n});\n\n// Interceptor para agregar token automáticamente\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Token ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Interceptor para manejar errores de autenticación\napi.interceptors.response.use(response => response, error => {\n  if (error.response?.status === 401) {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\nexport default {\n  // Autenticación\n  register(userData) {\n    return api.post('/api/auth/register/', userData);\n  },\n  login(credentials) {\n    return api.post('/api/auth/login/', credentials);\n  },\n  logout() {\n    return api.post('/api/auth/logout/');\n  },\n  getProfile() {\n    return api.get('/api/auth/profile/');\n  },\n  getAuthStatus() {\n    return api.get('/api/auth/status/');\n  },\n  // Estudiantes\n  getStudents() {\n    return api.get('/api/students/');\n  },\n  getStudent(id) {\n    return api.get(`/api/students/${id}/`);\n  },\n  createStudent(studentData) {\n    return api.post('/api/students/', studentData);\n  },\n  updateStudent(id, studentData) {\n    return api.put(`/api/students/${id}/`, studentData);\n  },\n  deleteStudent(id) {\n    return api.delete(`/api/students/${id}/`);\n  },\n  // Docentes\n  getTeachers() {\n    return api.get('/api/teachers/');\n  },\n  createTeacher(data) {\n    return api.post('/api/teachers/', data);\n  },\n  updateTeacher(id, teacher) {\n    return api.put(`/api/teachers/${id}/`, teacher);\n  },\n  deleteTeacher(id) {\n    return api.delete(`/api/teachers/${id}/`);\n  },\n  // Cursos\n  getCourses() {\n    return api.get('/api/courses/');\n  },\n  createCourse(data) {\n    return api.post('/api/courses/', data);\n  },\n  updateCourse(id, data) {\n    return api.put(`/api/courses/${id}/`, data);\n  },\n  deleteCourse(id) {\n    return api.delete(`/api/courses/${id}/`);\n  },\n  // Usuarios\n  getUsers() {\n    return api.get('/api/users/');\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","headers","timeout","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","status","removeItem","window","location","href","register","userData","post","login","credentials","logout","getProfile","get","getAuthStatus","getStudents","getStudent","id","createStudent","studentData","updateStudent","put","deleteStudent","delete","getTeachers","createTeacher","data","updateTeacher","teacher","deleteTeacher","getCourses","createCourse","updateCourse","deleteCourse","getUsers"],"sources":["/Users/lvilcah/Downloads/CUNA-main/src/services/api.js"],"sourcesContent":["import axios from 'axios'\n\nconst API_BASE_URL = 'https://cuna-api-unsa-nine.vercel.app'\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  timeout: 10000\n})\n\n// Interceptor para agregar token automáticamente\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token')\n    if (token) {\n      config.headers.Authorization = `Token ${token}`\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\n// Interceptor para manejar errores de autenticación\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token')\n      localStorage.removeItem('user')\n      window.location.href = '/login'\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default {\n  // Autenticación\n  register(userData) {\n    return api.post('/api/auth/register/', userData)\n  },\n  \n  login(credentials) {\n    return api.post('/api/auth/login/', credentials)\n  },\n  \n  logout() {\n    return api.post('/api/auth/logout/')\n  },\n  \n  getProfile() {\n    return api.get('/api/auth/profile/')\n  },\n  \n  getAuthStatus() {\n    return api.get('/api/auth/status/')\n  },\n  \n  // Estudiantes\n  getStudents() {\n    return api.get('/api/students/')\n  },\n  \n  getStudent(id) {\n    return api.get(`/api/students/${id}/`)\n  },\n  \n  createStudent(studentData) {\n    return api.post('/api/students/', studentData)\n  },\n  \n  updateStudent(id, studentData) {\n    return api.put(`/api/students/${id}/`, studentData)\n  },\n  \n  deleteStudent(id) {\n    return api.delete(`/api/students/${id}/`)\n  },\n  \n  // Docentes\n  getTeachers() {\n    return api.get('/api/teachers/')\n  },\n  createTeacher(data) {\n  return api.post('/api/teachers/', data)\n  },\n  updateTeacher(id, teacher) {\n  return api.put(`/api/teachers/${id}/`, teacher)\n  },\n  deleteTeacher(id) {\n  return api.delete(`/api/teachers/${id}/`)\n  },\n  // Cursos\n  getCourses() {\n    return api.get('/api/courses/')\n  },\n  createCourse(data) {\n  return api.post('/api/courses/', data)\n  },\n  updateCourse(id, data) {\n    return api.put(`/api/courses/${id}/`, data)\n  },\n  deleteCourse(id) {\n    return api.delete(`/api/courses/${id}/`)\n  },\n  // Usuarios\n  getUsers() {\n    return api.get('/api/users/')\n  },\n  \n  \n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
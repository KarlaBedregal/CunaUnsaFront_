{"ast":null,"code":"import { mapGetters, mapActions } from 'vuex';\nimport api from '@/services/api';\nexport default {\n  name: 'TeachersView',\n  data() {\n    return {\n      showForm: false,\n      editingTeacher: null,\n      form: {\n        names: '',\n        father_surname: '',\n        mother_surname: '',\n        email: '',\n        phone: '',\n        show_phone: false,\n        status: true\n      }\n    };\n  },\n  computed: {\n    ...mapGetters(['teachers', 'loading', 'error'])\n  },\n  created() {\n    this.fetchTeachers();\n  },\n  methods: {\n    ...mapActions(['fetchTeachers']),\n    toggleForm() {\n      this.resetForm();\n      this.showForm = !this.showForm;\n    },\n    resetForm() {\n      this.editingTeacher = null;\n      this.form = {\n        names: '',\n        father_surname: '',\n        mother_surname: '',\n        email: '',\n        phone: ''\n      };\n    },\n    async submitForm() {\n      try {\n        if (this.editingTeacher) {\n          await api.updateTeacher(this.editingTeacher.id, this.form);\n          console.log('‚úèÔ∏è Docente actualizado');\n        } else {\n          await api.createTeacher(this.form);\n          console.log('‚úÖ Docente creado');\n        }\n        this.fetchTeachers();\n        this.showForm = false;\n        this.resetForm();\n      } catch (err) {\n        console.error('‚ùå Error al guardar docente:', err);\n        alert('No se pudo guardar el docente');\n      }\n    },\n    async deleteTeacher(id) {\n      if (!confirm('¬øEst√°s seguro de eliminar este docente?')) return;\n      try {\n        await api.deleteTeacher(id);\n        this.fetchTeachers();\n      } catch (err) {\n        console.error('‚ùå Error al eliminar docente:', err);\n      }\n    },\n    editTeacher(teacher) {\n      this.showForm = true;\n      this.editingTeacher = teacher;\n      this.form = {\n        names: teacher.names,\n        father_surname: teacher.father_surname,\n        mother_surname: teacher.mother_surname,\n        email: teacher.email,\n        phone: teacher.phone,\n        show_phone: teacher.show_phone,\n        status: teacher.status\n      };\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","api","name","data","showForm","editingTeacher","form","names","father_surname","mother_surname","email","phone","show_phone","status","computed","created","fetchTeachers","methods","toggleForm","resetForm","submitForm","updateTeacher","id","console","log","createTeacher","err","error","alert","deleteTeacher","confirm","editTeacher","teacher"],"sources":["D:\\ECOCOBEDO FRONT\\CunaFrontend\\src\\views\\Teachers.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <div class=\"card shadow\">\n      <div class=\"card-header bg-success text-white d-flex justify-content-between align-items-center\">\n        <h4>üë®‚Äçüè´ Lista de Docentes</h4>\n        <button class=\"btn btn-light btn-sm\" @click=\"toggleForm\">\n          {{ showForm ? 'Cancelar' : '‚ûï Agregar Docente' }}\n        </button>\n      </div>\n\n      <!-- FORMULARIO -->\n      <div v-if=\"showForm\" class=\"card-body border border-success p-3 mb-3\">\n        <h5>{{ editingTeacher ? 'Editar Docente' : 'Nuevo Docente' }}</h5>\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"row\">\n            <div class=\"col-md-4 mb-2\">\n              <input v-model=\"form.names\" type=\"text\" class=\"form-control\" placeholder=\"Nombres\" required>\n            </div>\n            <div class=\"col-md-4 mb-2\">\n              <input v-model=\"form.father_surname\" type=\"text\" class=\"form-control\" placeholder=\"Apellido Paterno\" required>\n            </div>\n            <div class=\"col-md-4 mb-2\">\n              <input v-model=\"form.mother_surname\" type=\"text\" class=\"form-control\" placeholder=\"Apellido Materno\" required>\n            </div>\n            <div class=\"col-md-6 mb-2\">\n              <input v-model=\"form.email\" type=\"email\" class=\"form-control\" placeholder=\"Correo electr√≥nico\" required>\n            </div>\n            <div class=\"col-md-6 mb-2\">\n              <input v-model=\"form.phone\" type=\"text\" class=\"form-control\" placeholder=\"Tel√©fono\">\n            </div>\n            <div class=\"col-md-6 mb-2\">\n              <div class=\"form-check\">\n                <input v-model=\"form.show_phone\" class=\"form-check-input\" type=\"checkbox\" id=\"showPhone\">\n                <label class=\"form-check-label\" for=\"showPhone\">Mostrar Tel√©fono</label>\n              </div>\n            </div>\n\n            <!-- Checkbox: Estado del docente -->\n            <div class=\"col-md-6 mb-2\">\n              <div class=\"form-check\">\n                <input v-model=\"form.status\" class=\"form-check-input\" type=\"checkbox\" id=\"status\">\n                <label class=\"form-check-label\" for=\"status\">Activo</label>\n              </div>\n            </div>\n          </div>\n          <button type=\"submit\" class=\"btn btn-success\">\n            {{ editingTeacher ? 'Actualizar' : 'Guardar' }}\n          </button>\n        </form>\n      </div>\n\n      <!-- TABLA -->\n      <div class=\"card-body\">\n        <div v-if=\"loading\">Cargando docentes...</div>\n        <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n        <table v-if=\"teachers.length\" class=\"table table-hover table-bordered\">\n          <thead class=\"table-success\">\n            <tr>\n              <th>#</th>\n              <th>Nombre</th>\n              <th>Email</th>\n              <th>Estado</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(teacher, index) in teachers\" :key=\"teacher.id\">\n              <td>{{ index + 1 }}</td>\n              <td>{{ teacher.names }} {{ teacher.father_surname }} {{ teacher.mother_surname }}</td>\n              <td>{{ teacher.email }}</td>\n              <td>\n                <span :class=\"teacher.status ? 'text-success' : 'text-danger'\">\n                  {{ teacher.status ? 'Activo' : 'Inactivo' }}\n                </span>\n              </td>\n              <td>\n                <button class=\"btn btn-sm btn-warning me-2\" @click=\"editTeacher(teacher)\">‚úèÔ∏è</button>\n                <button class=\"btn btn-sm btn-danger\" @click=\"deleteTeacher(teacher.id)\">üóëÔ∏è</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div v-else class=\"text-muted\">No hay docentes disponibles.</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport api from '@/services/api'\n\nexport default {\n  name: 'TeachersView',\n  data() {\n    return {\n      showForm: false,\n      editingTeacher: null,\n      form: {\n        names: '',\n        father_surname: '',\n        mother_surname: '',\n        email: '',\n        phone: '',\n        show_phone: false,\n        status: true\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['teachers', 'loading', 'error'])\n  },\n  created() {\n    this.fetchTeachers()\n  },\n  methods: {\n    ...mapActions(['fetchTeachers']),\n\n    toggleForm() {\n      this.resetForm()\n      this.showForm = !this.showForm\n    },\n\n    resetForm() {\n      this.editingTeacher = null\n      this.form = {\n        names: '',\n        father_surname: '',\n        mother_surname: '',\n        email: '',\n        phone: ''\n      }\n    },\n\n    async submitForm() {\n      try {\n        if (this.editingTeacher) {\n          await api.updateTeacher(this.editingTeacher.id, this.form)\n          console.log('‚úèÔ∏è Docente actualizado')\n        } else {\n          await api.createTeacher(this.form)\n          console.log('‚úÖ Docente creado')\n        }\n        this.fetchTeachers()\n        this.showForm = false\n        this.resetForm()\n      } catch (err) {\n        console.error('‚ùå Error al guardar docente:', err)\n        alert('No se pudo guardar el docente')\n      }\n    },\n\n    async deleteTeacher(id) {\n      if (!confirm('¬øEst√°s seguro de eliminar este docente?')) return\n      try {\n        await api.deleteTeacher(id)\n        this.fetchTeachers()\n      } catch (err) {\n        console.error('‚ùå Error al eliminar docente:', err)\n      }\n    },\n\n    editTeacher(teacher) {\n      this.showForm = true\n      this.editingTeacher = teacher\n      this.form = {\n        names: teacher.names,\n        father_surname: teacher.father_surname,\n        mother_surname: teacher.mother_surname,\n        email: teacher.email,\n        phone: teacher.phone,\n        show_phone: teacher.show_phone,\n        status: teacher.status\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.table td, .table th {\n  vertical-align: middle;\n}\n</style>\n"],"mappings":"AAyFA,SAASA,UAAU,EAAEC,UAAS,QAAS,MAAK;AAC5C,OAAOC,GAAE,MAAO,gBAAe;AAE/B,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,KAAK;MACfC,cAAc,EAAE,IAAI;MACpBC,IAAI,EAAE;QACJC,KAAK,EAAE,EAAE;QACTC,cAAc,EAAE,EAAE;QAClBC,cAAc,EAAE,EAAE;QAClBC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,UAAU,EAAE,KAAK;QACjBC,MAAM,EAAE;MACV;IACF;EACF,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGf,UAAU,CAAC,CAAC,UAAU,EAAE,SAAS,EAAE,OAAO,CAAC;EAChD,CAAC;EACDgB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,aAAa,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACP,GAAGjB,UAAU,CAAC,CAAC,eAAe,CAAC,CAAC;IAEhCkB,UAAUA,CAAA,EAAG;MACX,IAAI,CAACC,SAAS,CAAC;MACf,IAAI,CAACf,QAAO,GAAI,CAAC,IAAI,CAACA,QAAO;IAC/B,CAAC;IAEDe,SAASA,CAAA,EAAG;MACV,IAAI,CAACd,cAAa,GAAI,IAAG;MACzB,IAAI,CAACC,IAAG,GAAI;QACVC,KAAK,EAAE,EAAE;QACTC,cAAc,EAAE,EAAE;QAClBC,cAAc,EAAE,EAAE;QAClBC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE;MACT;IACF,CAAC;IAED,MAAMS,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,IAAI,IAAI,CAACf,cAAc,EAAE;UACvB,MAAMJ,GAAG,CAACoB,aAAa,CAAC,IAAI,CAAChB,cAAc,CAACiB,EAAE,EAAE,IAAI,CAAChB,IAAI;UACzDiB,OAAO,CAACC,GAAG,CAAC,wBAAwB;QACtC,OAAO;UACL,MAAMvB,GAAG,CAACwB,aAAa,CAAC,IAAI,CAACnB,IAAI;UACjCiB,OAAO,CAACC,GAAG,CAAC,kBAAkB;QAChC;QACA,IAAI,CAACR,aAAa,CAAC;QACnB,IAAI,CAACZ,QAAO,GAAI,KAAI;QACpB,IAAI,CAACe,SAAS,CAAC;MACjB,EAAE,OAAOO,GAAG,EAAE;QACZH,OAAO,CAACI,KAAK,CAAC,6BAA6B,EAAED,GAAG;QAChDE,KAAK,CAAC,+BAA+B;MACvC;IACF,CAAC;IAED,MAAMC,aAAaA,CAACP,EAAE,EAAE;MACtB,IAAI,CAACQ,OAAO,CAAC,yCAAyC,CAAC,EAAE;MACzD,IAAI;QACF,MAAM7B,GAAG,CAAC4B,aAAa,CAACP,EAAE;QAC1B,IAAI,CAACN,aAAa,CAAC;MACrB,EAAE,OAAOU,GAAG,EAAE;QACZH,OAAO,CAACI,KAAK,CAAC,8BAA8B,EAAED,GAAG;MACnD;IACF,CAAC;IAEDK,WAAWA,CAACC,OAAO,EAAE;MACnB,IAAI,CAAC5B,QAAO,GAAI,IAAG;MACnB,IAAI,CAACC,cAAa,GAAI2B,OAAM;MAC5B,IAAI,CAAC1B,IAAG,GAAI;QACVC,KAAK,EAAEyB,OAAO,CAACzB,KAAK;QACpBC,cAAc,EAAEwB,OAAO,CAACxB,cAAc;QACtCC,cAAc,EAAEuB,OAAO,CAACvB,cAAc;QACtCC,KAAK,EAAEsB,OAAO,CAACtB,KAAK;QACpBC,KAAK,EAAEqB,OAAO,CAACrB,KAAK;QACpBC,UAAU,EAAEoB,OAAO,CAACpB,UAAU;QAC9BC,MAAM,EAAEmB,OAAO,CAACnB;MAClB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
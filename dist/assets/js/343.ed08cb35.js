"use strict";(self["webpackChunkcuna_frontend"]=self["webpackChunkcuna_frontend"]||[]).push([[343],{8343:function(e,t,o){o.r(t),o.d(t,{default:function(){return U}});var r=o(641),s=o(33),l=o(3751);const a={class:"container mt-4"},n={class:"card shadow"},i={class:"card-header bg-info text-white d-flex justify-content-between align-items-center"},d={key:0,class:"card-body border border-info p-3 mb-3"},u={class:"row"},c={class:"col-md-6 mb-2"},m={class:"col-md-6 mb-2"},b={class:"col-md-4 mb-2"},k={class:"col-md-4 mb-2"},h={class:"col-md-4 mb-2"},v={class:"col-md-12 mb-2"},f={class:"form-check"},L={type:"submit",class:"btn btn-info text-white"},C={class:"card-body"},p={key:0,class:"alert alert-info"},g={key:1,class:"alert alert-danger"},y={key:2,class:"table table-bordered table-hover table-striped text-center align-middle"},w=["onClick"],F=["onClick"],_={key:3,class:"text-center text-muted"};function E(e,t,o,E,x,A){return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("div",n,[(0,r.Lk)("div",i,[t[8]||(t[8]=(0,r.Lk)("h4",{class:"mb-0"},"üìö Lista de Cursos",-1)),(0,r.Lk)("button",{class:"btn btn-light btn-sm",onClick:t[0]||(t[0]=(...e)=>A.toggleForm&&A.toggleForm(...e))},(0,s.v_)(x.showForm?"Cancelar":"‚ûï Agregar Curso"),1)]),x.showForm?((0,r.uX)(),(0,r.CE)("div",d,[(0,r.Lk)("h5",null,(0,s.v_)(x.editingCourse?"Editar Curso":"Nuevo Curso"),1),(0,r.Lk)("form",{onSubmit:t[7]||(t[7]=(0,l.D$)((...e)=>A.submitForm&&A.submitForm(...e),["prevent"]))},[(0,r.Lk)("div",u,[(0,r.Lk)("div",c,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>x.form.name=e),type:"text",class:"form-control",placeholder:"Nombre del curso",required:""},null,512),[[l.Jo,x.form.name]])]),(0,r.Lk)("div",m,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>x.form.code=e),type:"text",class:"form-control",placeholder:"C√≥digo",required:""},null,512),[[l.Jo,x.form.code]])]),(0,r.Lk)("div",b,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>x.form.credits=e),type:"number",class:"form-control",placeholder:"Cr√©ditos",required:""},null,512),[[l.Jo,x.form.credits,void 0,{number:!0}]])]),(0,r.Lk)("div",k,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>x.form.year=e),type:"number",class:"form-control",placeholder:"A√±o",required:""},null,512),[[l.Jo,x.form.year,void 0,{number:!0}]])]),(0,r.Lk)("div",h,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>x.form.bimester=e),class:"form-select",required:""},t[9]||(t[9]=[(0,r.Fv)('<option disabled value="" data-v-180dc84e>Selecciona Bimestre</option><option value="1" data-v-180dc84e>Primer Bimestre</option><option value="2" data-v-180dc84e>Segundo Bimestre</option><option value="3" data-v-180dc84e>Tercer Bimestre</option><option value="4" data-v-180dc84e>Cuarto Bimestre</option>',5)]),512),[[l.u1,x.form.bimester]])]),(0,r.Lk)("div",v,[(0,r.Lk)("div",f,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>x.form.status=e),class:"form-check-input",type:"checkbox",id:"status"},null,512),[[l.lH,x.form.status]]),t[10]||(t[10]=(0,r.Lk)("label",{class:"form-check-label",for:"status"},"Activo",-1))])])]),(0,r.Lk)("button",L,(0,s.v_)(x.editingCourse?"Actualizar":"Guardar"),1)],32)])):(0,r.Q3)("",!0),(0,r.Lk)("div",C,[e.loading?((0,r.uX)(),(0,r.CE)("div",p,"Cargando cursos...")):(0,r.Q3)("",!0),e.error?((0,r.uX)(),(0,r.CE)("div",g,(0,s.v_)(e.error),1)):(0,r.Q3)("",!0),e.courses.length?((0,r.uX)(),(0,r.CE)("table",y,[t[11]||(t[11]=(0,r.Lk)("thead",{class:"table-dark"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"#"),(0,r.Lk)("th",null,"Nombre"),(0,r.Lk)("th",null,"C√≥digo"),(0,r.Lk)("th",null,"Cr√©ditos"),(0,r.Lk)("th",null,"A√±o"),(0,r.Lk)("th",null,"Bimestre"),(0,r.Lk)("th",null,"Estado"),(0,r.Lk)("th",null,"Acciones")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.courses,(e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,s.v_)(t+1),1),(0,r.Lk)("td",null,(0,s.v_)(e.name),1),(0,r.Lk)("td",null,(0,s.v_)(e.code),1),(0,r.Lk)("td",null,(0,s.v_)(e.credits),1),(0,r.Lk)("td",null,(0,s.v_)(e.year),1),(0,r.Lk)("td",null,(0,s.v_)(e.bimester),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,s.C4)(e.status?"text-success fw-bold":"text-danger fw-bold")},(0,s.v_)(e.status?"Activo":"Inactivo"),3)]),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn btn-sm btn-warning me-2",onClick:t=>A.editCourse(e)},"‚úèÔ∏è",8,w),(0,r.Lk)("button",{class:"btn btn-sm btn-danger",onClick:t=>A.deleteCourse(e.id)},"üóëÔ∏è",8,F)])]))),128))])])):(0,r.Q3)("",!0),e.courses.length||e.loading||e.error?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",_," No hay cursos registrados. "))])])])}var x=o(6278),A=o(4300),X={name:"CoursesView",data(){return{showForm:!1,editingCourse:null,form:{name:"",code:"",credits:null,year:null,bimester:"",status:!0}}},computed:{...(0,x.L8)(["courses","loading","error"])},created(){this.fetchCourses()},methods:{...(0,x.i0)(["fetchCourses"]),toggleForm(){this.resetForm(),this.showForm=!this.showForm},resetForm(){this.editingCourse=null,this.form={name:"",code:"",credits:null,year:null,bimester:"",status:!0}},async submitForm(){try{this.editingCourse?await A.A.updateCourse(this.editingCourse.id,this.form):await A.A.createCourse(this.form),this.fetchCourses(),this.showForm=!1,this.resetForm()}catch(e){console.error("‚ùå Error al guardar curso:",e),alert("No se pudo guardar el curso")}},async deleteCourse(e){if(confirm("¬øEst√°s seguro de eliminar este curso?"))try{await A.A.deleteCourse(e),this.fetchCourses()}catch(t){console.error("‚ùå Error al eliminar curso:",t)}},editCourse(e){this.showForm=!0,this.editingCourse=e,this.form={name:e.name,code:e.code,credits:e.credits,year:e.year,bimester:e.bimester,status:e.status}}}},V=o(6262);const B=(0,V.A)(X,[["render",E],["__scopeId","data-v-180dc84e"]]);var U=B}}]);
//# sourceMappingURL=343.ed08cb35.js.map